1. 什么是雪崩？
指的是缓存中大批量的热点key数据过期后，同时涌入大量查询请求，导致请求落到数据库层；

解决方案：
- 将缓存失败时间散开，比如每个key设置随机过期时间，防止一批数据同时过期；
- 简单粗暴，将不变的数据设置永不过期；

2. 缓存穿透？
无效的查询，在缓存中查不到数据，直接打到数据库；

解决方案：每次从数据库中查不到，就再缓存中写一个空值（特殊值），则下次请求过来之后，只要缓存没有过期，就可以从缓存中取到数据；

3. 缓存击穿？
一个热点key高并发的发起查询请求，在缓存失效的瞬间，导致大批量的请求同时打到数据库；

解决方案：热key不设置过期时间；在从数据库回源缓存时加锁操作；

事前：Redis 高可用，主从+哨兵，Redis cluster，避免全盘崩溃。
事中：本地 ehcache 缓存 + Hystrix 限流+降级，避免MySQL 被打死。
事后：Redis 持久化 RDB+AOF，一旦重启，自动从磁盘上加载数据，快速恢复缓存数据。

备注：
- 缓解热key的压力方式
在机器上实现本地缓存，将单个分片的压力分散到各台机器上；
