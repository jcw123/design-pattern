# 工厂模式

工厂方法模式是类的创建模式，又叫做虚拟构造子(Virtual Constructor)模式或者多态性工厂（Polymorphic Factory）模式。

工厂方法模式的用意是定义一个创建产品对象的工厂接口，将实际创建工作推迟到子类中。


需要创建很多相似的产品，可以使用工厂模式。便于管理，如果对象的创建分布在不同的地方，很难进行把控。
并且导致依赖分散开，耦合性强，当之后需要修改的时候，各个地方都需要进行修改。


简单工厂模式：
  优点：
    简单工厂模式能够根据外界给定的信息，决定究竟应该创建哪个具体类的对象。明确区分了各自的职责和权力，有利于整个软件体系结构的优化
  缺点：
    很明显工厂类集中了所有实例的创建逻辑，容易违反GRASPR的高内聚的责任分配原则



工厂方法模式：
  优点：
    1. 子类提供挂钩。基类为工厂方法提供缺省实现，子类可以重写新的实现，也可以继承父类的实现。-- 加一层间接性，增加了灵活性
    2. 屏蔽产品类。产品类的实现如何变化，调用者都不需要关心，只需关心产品的接口，只要接口保持不变，系统中的上层模块就不会发生变化。
    3. 典型的解耦框架。高层模块只需要知道产品的抽象类，其他的实现类都不需要关心，符合迪米特法则，符合依赖倒置原则，符合里氏替换原则。
    4. 多态性：客户代码可以做到与特定应用无关，适用于任何实体类。

  缺点：
    1. 需要Creator和相应的子类作为factory method的载体，如果应用模型确实需要creator和子类存在，则很好；否则的话，需要增加一个类层次 

抽象工厂模式：（涉及产品族和产品等级结构的概念）
  优点：
    1. 抽象工厂模式隔离了具体类的生产，使得客户并不需要知道什么被创建
    2. 当一个产品族中的多个对象被设计成一起工作时，它能保证客户端始终只使用同一个产品族中的对象
    3. 增加新的具体工厂和产品族很方便，无须修改已有系统，符合“开闭原则”

  缺点：
    1. 增加新的产品等级结构很复杂，需要修改抽象工厂和所有的具体工厂类，对“开闭原则”的支持呈现倾斜性。

抽象工厂的工厂实现类并不是只生成特定的一种产品，而是生产多个产品构成一个组合。

如果只有一个产品族可以使用工厂方法模式，如果有多于一个产品族，可以使用抽象工厂模式，通过
抽象工厂模式限制同一个产品族的操作。

增加新的产品族，抽象工厂很好实现，但是增加新的产品等级，需要修改所有的实现类。
